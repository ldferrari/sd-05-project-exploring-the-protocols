const net = require('net');

const RESPONSE = `${[
  'HTTP/1.1 200 OK',
  'Content-Type: text/html; charset=UTF-8',
  '',
  '<h1 data-testid="server">Protocolos</h1>',
].join('\r\n')}\r\n\r\n`;

const server = net.createServer((socket) => {
  socket.write(RESPONSE);

  socket.on('data', (data) => {
    console.log(data.toString());
    socket.end();
  });
});

const PORT = 8085;

server.listen(PORT);


// HTTP/1.1 302 Found
// Location: https://www.google.com.br/?gws_rd=ssl
// Cache-Control: private
// Content-Type: text/html; charset=UTF-8
// P3P: CP="This is not a P3P policy! See g.co/p3phelp for more info."
// Date: Thu, 11 Mar 2021 19:47:39 GMT
// Server: gws
// Content-Length: 234
// X-XSS-Protection: 0
// X-Frame-Options: SAMEORIGIN
// Set-Cookie: 1P_JAR=2021-03-11-19; expires=Sat, 10-Apr-2021 19:47:39 GMT; path=/; domain=.google.com.br; Secure; SameSite=none
// Set-Cookie: NID=211=j5uj3Fkb3XKj3Umt8NZDb7TnLUUdQcC-Ah2T_N1qpvPd48Npox1w6zfv3lhMZ4YolzT3w02fqq7830XGKWDi7ndtouvVRBaVshaNSBj8OefHdZ3Vtzl1FYDniiTiO_LwyZvwrE_9UaXxcNa6rWlolCKwiw6RDYOfkxlfD7PhO0M; expires=Fri, 10-Sep-2021 19:47:39 GMT; path=/; domain=.google.com.br; HttpOnly

// <HTML><HEAD><meta http-equiv="content-type" content="text/html;charset=utf-8">
// <TITLE>302 Moved</TITLE></HEAD><BODY>
// <H1>302 Moved</H1>
// The document has moved
// <A HREF="https://www.google.com.br/?gws_rd=ssl">here</A>.
// </BODY></HTML>
